> `chapter 5 서버측의 LAN에는 무엇이 있는가? _ 방화벽과 캐시 서버의 탐험`  
> 에서는 패킷이 웹 서버에 도착할 때 웹 서버 측의 LAN에 도착 -> 방화벽 -> 캐시 서버 를 지나는 과정을 다룬다. 

# story 1. 웹 서버의 설치 장소
> 인터넷을 빠져나와 패킷이 서버에 도착하기까지의 과정은, 서버의 설치 장소에 따라 다르다.  
## 1. 사내에 웹 서버를 설치하는 경우

> 과거에는 사내 LAN에 웹 서버를 설치해 라우터가 패킷을 직접 중계하기도 했지만, 현재는 방화벽으로 웹 서버를 분리하는 것이 일반적이다.
1. IP 주소의 부족 때문이다. 이 형태로는 서버 뿐만 아니라 클라이언트에도 글로벌 주소를 할당해야 한다. (요청을 보내는 컴퓨터도 모두 글로벌 주소를 할당해야 한다는 뜻인 듯)
2. 보안상의 이유 때문이다. 서버가 노출 상태에 있어 보안에 취약해질 수 있다.

### 방화벽이 하는 일
- 방화벽으로 분리하는 경우, 공개 서버용 LAN에 웹 서버를 따로 두고, 방화벽이 그 사이의 관문 역할을 한다.
- 특정 서버에서 동작하는 특정 애플리케이션에 액세스하는 패킷만 통과시키고, 그 외의 것은 차단한다.

## 2. 데이터센터에 웹 서버를 설치하는 경우

> 웹 서버가 데이터센터에 설치된 경우 , 인터넷의 중심 부분 -> 데이터센터 -> 서버 머신 -> 방화벽 점검(있다면) -> 서버에 도착한다.

프로바이더 등이 운영하는 데이터센터에 서버를 설치하거나, 프로바이더가 소유하는 서버를 빌려쓰는 경우도 있다.  
- 데이터센터는 프로바이더 네트워크의 중심에 있는 NOC(네트워크 운영 센터)에 연결되어 있다. (직접 접속 / 상호 접속하는 IX에 직결)
- 중심 부분에서는 고속 회선으로 접속되어, 이곳에 서버를 설치하면 고속 액세스가 가능하다.
- 사내보다 안전성이 높다. 


> 위에서 설명한 어느 경우든지, 패킷은 라우터에서 중계되고 최종적으로 서버에 도착한다는 점은 동일하다!
