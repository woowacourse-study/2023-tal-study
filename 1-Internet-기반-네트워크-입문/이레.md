# **Internet 기반 네트워크 입문**

# 1. OSI 7 Layers와  식별자

- OSI 7 Layers


    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d7aba542-4a0a-4081-bf2e-afcbb0328693/Untitled.png)
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/01d6ca1f-7a68-46b5-940f-5d7777763c18/Untitled.png)
    
    - application (HTTP프로토콜)
    - presentation  (USER모드   SSL(TLS))
    - session (소켓)
    - transport 전송계층 (KERNEL모드  TCP UDP)
    - network (인터넷)
    - data link = nic일정수준~ 드라이버(소프트웨어) 포함한 영역
    - physical = nic
- 식별자 : 식별에 대한 근거가 되는 정보
    - L4 식별자 : PORT 번호
        - port 번호는 각 계층에 따라 다르게 사용된다
            - L2 port: 인터페이스 식별자 (랜 카드 포트번호)
            - L3 port: 서비스 식별자 (네트워크 -  포트번호)
            - L4 port: 프로세스 식별자
    - L3 식별자 : IP주소(프로토콜 V4만 다룬다) = 인터넷에 연결된 접근한 **호스트 컴퓨터를 식별**한다
    - L2(이더넷, NIC~ 드라이버)에서 식별자 :  **MAC(피지컬 주소, 맥주소= 네트워크 인터페이스 카드(램카드))를 식별.** 16진수 48비트

- 명령프롬프트에서
    - ipconfig

      컴퓨터 정보

    - ifconfig
      물리적 주소 = mac address  = 몇비트?

# 2. HOST

여러 형태의 컴퓨터.
**호스트 = 네트워크(인터넷)에 연결된 컴퓨터 (ip 주소가 있음)**

host의 종류

- endpoint(**네트워크의 이용주체**, 단말기)
    - 단말기 역할에 따른 분류.
        - 클라이언트, 서버
        - peer(p2p통신에서 서비스 소모자이자 제공자)
- switch (**네트워크 그 자체를 이루는** 호스트, 인프라 스트럭쳐)
    - ips 보안 스위치(시큐리티 스위치)
    - 라우터 (L3스위치)
    - 관리목적 스위치 = tab switch, aggregation switch 등

  예) 중계기. 서비스는 이용안하는데, ip주소를 가지고 있다.


# 3. 스위치가 하는 일과 비용

**네트워크를 현실에서 비유적으로 빗댄 것 = 고속도로망**
예)
출발지에서 목적지에 도달하기 위해 교차로에서 직진 혹은 커브한다.

**교차로에서 하는 일 = 경로를 선택해야함.**
목적지로 가기위해 어떤 길을 선택하는 것이 유리한지 근거가 필요한데,
지도가 없다면 **이정표가 경로 선택의 근거가 됨** 이정표를 따라 목적지 도착

**교차로 자체 = 스위치**

- 스위치에서 경로선택을 한다 = 인터페이스를 선택함 = (어떤 근거에 따라)스위칭한다
- 선택의 근거인 이정표 = 인터넷(네트워크)은 도로망이고 ip주소를 근거로 스위칭
- 데이터(패킷)이 인터넷이라는 도로를 돌아다닌다
  라우터(l3 스위치)라는 교차로를 만나 스위칭한다.
  **라우터마다 이정표가 들어있는데 = 라우팅 테이블 = 이정표**

네트워크에서 이동할떄는 비용을 고려한다.
비용을 matric값이라고 하고 = 비용이 낮은 쪽으로 이동하게 되어있다.
교차로에서 어떤 길을 선택할지 matric값을 고려

# 7Layers에서 나온 일부 개념 정리

- 이더넷이란?
    - **네트워크 망을 구성하는 한 방법(네트워킹(상호작용)의 방식)으로,**
    - 네트워크에 연결된 각 기기들이 48비트의 고유의 MAC주소(피지컬 주소)를 가지고 있어, 이 주소를 이용해 상호간에 데이터를 주고받을 수 있도록 함
    - **전송매체로 케이블**을 사용하며, 각 기기를 상호 연결시키는 데에 허브/ 스위치 등의 장치를 이용한다
    - 유/무선 통신 장비, 공유기, 허브 등을 통해 다수의 시스템이 LAN(근거리 통신망)선 및 통신 포트에 연결 되어 통신이 가능한 네트워크 구조를 말한다.

- LAN이란?
    - 동일 건물과 같이 제한된 일정 지역의 전자 기기들 사이의 **근거리 통신망(LAN외부에서 LAN내부에 접근 불가능)**
    - 작은 범위의 네트워크 망으로 이더넷 형태로 구축할 수 있다.
    - 각각의 네트워킹 방식에 따라서 사용하게 되는 LAN카드가 달라진다
    - 이더넷(네트워킹 방식) 사용시 **이더넷에 맞는 LAN카드를 사용해야 한다**

- NIC란?
    - LAN카드(물리적 장치 = 디바이스)
    - LAN케이블(UTP)와 연결되어서 네트워크와 컴퓨터 간의 통신을 수행함
    - NIC 카드에는 물리적인 하드웨어 주소인 MAC주소가 할당되어 있음
    - 간단히 말해 네트워크 인터페이스 카드를 사용하면 장치가 다른 장치와 네트워크 할 수 있음

- 스위치란?
    - 목적지로 출발한 데이터를 중간에 **적합한 경로로 스위칭해주는 역할**.
        - 데이터 링크 계층 L2에 속하므로, MAC주소 기반으로 동작한다. **(MAC주소 기반으로 필요한 장치에만 데이터 패킷 전송)**
        - 네트워크 스위치는 컴퓨터와 같은 2개 이상의 IT 디바이스가 서로 통신하도록 허용하는 장비이다.
        - 컴퓨터, 프린터, 서버 등 **모든 디바이스를 서로 연결함**으로써 통신 네트워크를 생성, 이 네트워크 상에서 정보(인쇄, 서버, 인터넷 액세스 등)를 공유할 수 있도록 한다.
    - 네트워크 스위치의 작동 원리
        - 기기가 스위치에 연결되면
        - -> 스위치는 해당 이더넷 케이블에 연결된 기기의 네트워크 인터페이스 카드(NIC)에 내장된 미디어 액세스 제어(MAC) 주소를 확인.
        - -> 스위치는 이 MAC 주소를 사용해 패킷이 발송된 기기와 수신된 패킷을 전달할 위치를 식별
        - MAC 주소는 기기에 동적으로 할당되고 변경이 가능한 네트워크 계층(계층 3) IP 주소와 달리 **물리적 기기를 식별하는 데 쓰인다**.

- 라우터란?
    - 라우터 또한, 목적지로 가는 적합한 경로를 찾아주는 역할을 한다.
    - **네트워크 계층 L3에 속하므로, IP주소를 기반으로 작동**한다. (**적절한 통신 경로 결정하기 위해 한 통신망에서 다른 통신망으로 데이터 패킷 전송**)
    - 여러 스위치, 즉 네트워크를 **서로 다른 네트워크로 연결하는 데 사용**된다.
    - 궁극적으로 정보의 가장 효율적인 경로를 선택하는 디스패처 역할을 한다.

- 스위치와 라우터의 차이는?
    - 계층의 차이 L2, L3
    - 스위치는 단일 LAN을 연결하고, **데이터 패킷을 목적지로 보내주는 역할만** 한다. (이더넷 레벨, 같은 네트워크에서 통신하므로 = IP를 이해하지 못하므로 라우팅(네트워크 안에서 통신 데이터 보낼 때 최적 경로를 선택하는 과정)이 불가능하다) *요즘은 발전되서 그렇진 않긴함
    - 라우터는 여러 LAN및 여러 물리적 위치를 연결하고, 인터넷 연결도 제공

# 질문

- 그래서 랜선-host-endpoint와 nic- 이더넷 케이블가 어떻게 연결되서 스위치(l3계층 라우터) - 어떻게 다른 네트워크와 연결되는 것인지?
- 스위치 라우터

## 히히의 osi 7계층****
